{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "property-template",
  "type": "object",
  "title": "Property Template",
  "version": "0.0.1",
  "description": "Property template associated with the entity described by a resource template.",
  "required": [
    "id",
    "propertyURI",
    "propertyLabel",
    "type"
  ],
  "properties": {
    "id": {
      "type": "string",
      "title": "Property Template Identifier",
      "description": "Identifier associated with a property template. Eventually, a URI.",
      "example": [
        "http://sinopia.io/resources/common/BasicPropertyTemplate"
      ]
    },
    "mandatory": {
      "type": "boolean",
      "title": "Mandatory",
      "description": "Indication that the property is mandatory."
    },
    "propertyURI": {
      "type": "string",
      "format": "uri",
      "title": "Resource URI",
      "description": "URI of the RDF resource type associated with the entity managed by this Resource Template.",
      "example": [
        "http://id.loc.gov/ontologies/bibframe/AdminMetadata"
      ]
    },
    "propertyLabel": {
      "type": "string",
      "title": "Resource Label",
      "description": "Localized label associated with the class.",
      "example": [
        "BIBFRAME 2.0 Admin Metadata"
      ]
    },
    "remark": {
      "type": "string",
      "title": "Remark",
      "description": "Comment or guiding statement intended to be presented as supplementary information in user display."
    },
    "repeatable": {
      "type": "boolean",
      "title": "Repeatable",
      "description": "Indication that the property is repeatable."
    },
    "resourceTemplates": {
      "$ref": "resource-templates-array"
    },
    "type": {
      "type": "string",
      "enum": ["literal", "lookup", "resource", "target"],
      "title": "Type",
      "description": "Type of value (literal / resource) that is allowed by this property."
    },
    "valueConstraint": {
      "type": "object",
      "title": "Value Constraint",
      "description": "Constraint associated with the value.",
      "required": [ "valueTemplateRefs", "useValuesFrom" ],
      "properties": {
        "valueTemplateRefs": {
          "type": "array",
          "title": "Array of Value Template References",
          "description": "Array of identifiers (eventually URIs) for Value Templates.",
          "items": {
            "type": "string"
          },
          "example": [
            "['profile:bf2:Agent:Person', 'profile:bf2:Identifiers:Barcode', 'profile:bflc:Agents:PrimaryContribution']"
          ]
        },
        "useValuesFrom": {
          "type": "array",
          "title": "Use Values From",
          "description": "Array of Authority URIs or Vocabulary Lookup API identifiers to perform a lookup against.",
          "items": {
            "type": "string"
          },
          "example": [
            "['http://id.loc.gov/authorities/names', 'http://mlvlp04.loc.gov:8230/resources/works', 'http://id.loc.gov/authorities/genreForms']"
          ]
        },
        "valueDataType": {
          "type": "object",
          "title": "Value Data Types",
          "description": "Data Type information - Type URI and comments primarily.",
          "required": [],
          "properties": {
            "dataTypeURI": {
              "type": "string",
              "format": "uri",
              "title": "Data Type URI",
              "description": "URI for the Data Type of the Lookup Value in this value template.",
              "example": [
                "http://id.loc.gov/ontologies/bibframe/Work",
                "http://id.loc.gov/ontologies/bflc/PrimaryContribution",
                "http://www.loc.gov/mads/rdf/v1#Affiliation"
              ]
            },
            "remark": {
              "type": "string",
              "title": "Remark",
              "description": "Comment or guiding statement intended to be presented as supplementary information in user display."
            }
          }
        }
      }
    }
  }
}
